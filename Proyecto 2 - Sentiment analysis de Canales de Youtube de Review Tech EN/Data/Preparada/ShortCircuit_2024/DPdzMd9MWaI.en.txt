as you can probably imagine time is very important when it comes to computers you want your computer to be in time especially if you have more than one computer say you have a thousand computers and you want to like do stuff across all of them well they better be in time sync and it's not really a problem that we have but when I saw this product the time beat time card mini and the other one in here this one called is called the g0 KK I don't know if you're supposed to call call it gawk I probably
should have asked them how to pronounce it but it doesn't matter it was just too cool to not check out I've never played with one of these this guy right here the gawk one and this one as you could probably guess is the time card mini you may or may not be aware but basically every computer on the planet I think I imagine phones have them but definitely like your gaming computer on its motherboard will have something called a realtime clock usually the clocks on computer are
not super accurate for example the real-time clock in your average computer will drift multiple seconds per day for example this little add-on chip right here can hold time down to 0.03 seconds per year which is very accurate let's focus on the time card mini for now because the actual bones of these two products are pretty much the same you've got a Raspberry Pi compute module 4 we've got a little spacer board on the back but this is the important part this is the time teller right here you can
see the ublock Lea M8 F0 it's a GPS chip so what this board basically does is connects to GPS glow Nas Galileo satellites gets very accurate time data from them and then outputs it through these pins to our little Raspberry Pi and then we've got two little spots over here for add-on modules these uh you can put little chips on them and this chip the SI T 5811 can hold one part per billion accuracy for up to 8 hours in terms of the rest of IO it has USB here it's got an SD card slot here bunch of
dip switches primarily used for setup you've got your connection points for the raspy the full set of GPO pins for the raspy which is super nice an antenna connection USB on the- go connection two type-c USBS and ethernet now you would use this ethernet to well provide internet to the Raspberry Pi and also to send your time signaling out um as you can imagine it's a little weird to be plugging a computer into a computer right this is a pcie card why would you plug this computer into your other
computer the function of this is literally just to give power it's basically so you can add a very powerful very accurate time server to your existing infrastructure without having to put like a a whole new rack Unit in or like duct tape it to the side of your rack or whatever aside from these just being cool the reason I asked for them was to make a Time server at Linus Media Group for us the thing that kind of sparked this idea is we were setting up a cluster of computers using proxmox and
proxmox requires that the time sync be within about 5 milliseconds you can achieve that pretty easily by having any local time server for instance most routers will let you enable an ntp server that runs on them which is what we did and it worked totally fine but you know it's me I want to do it like fancy or silly and that's what we're going to do with these do you think that this I mean it just needs to provide Power right I run the time card mini in the gawk One Mini it's like time server
setion okay now I think I have to try that I really hope this doesn't break it I'd feel kind of bad if I broke it oh look at that they're both blinking look at that wow it works okay we've got a Time server in the time server can you see how this makes perfect sense now it should be running already you can see from the logs it's connecting to cloudflare um that's an ntp server a public time server uh that I configure just as like a secondary source usually you'd see a bunch of GPS
logs but that's because I haven't told you about today's sponsor thanks to MSI for sponsoring this video unlike your homework there's one thing you won't want to put off msi's amazing back to school deals they're offering a wide selection of laptops gaming PCs gpus and more check out the MSI cyborg 14 an entrylevel gaming laptop that's sleek and Powerful perfect for gamers students or anyone who needs both it's equipped with a 14in full HD screen an Nvidia 4000 series GPU and an Intel i7
processor not quite what you're looking for no worries MSI has plenty of other laptops on sale right now be a good student and check out MS back to school deals using the link in the description below sorry wrong thing I mean I haven't plugged in the antennas yet so let's do that you can use basically any GPS antenna as far as I'm aware I got these ones on Amazon this is meant for a boat and I needed to get an adapter cuz this uses BNC connectors now I wonder will we have GPS reception in here zero
satellites in view look at that 10 satellites in view ooh wah wa we woo all right look at this we got our gawk one oh look it's ripping dude nothing like measuring your time in Nan seconds it's a very in-depth config file you can mess around with a lot of different settings and some far more advanced than others um but what we're most interested in is the primary clocks and secondary clocks primary clocks usually you set as your most accurate source of time in our case
we're going to use PPS from the GPS chip and that's one pulse per second PPS stands for and basically Bally what's happening is the GPS chip on the time card is sending a little electrical signal at the start of every second and that's going to sink our time down to like Nan seconds or micros seconds and be very accurate then in the secondary clock section we're getting our major time which is like what time of day it is just down to the minute or second uh we're getting that from cloud flare
time. cloudflare.com wow look at that hey I don't know I feel like something's funky is going on with this  the thing that's strange is it's like reporting to the dashboard very infrequently ooh look at our offset it's terrible we have 5c variants I don't know what to do boys it's been a few days but we've got the GPS antennas outside we've got them hooked up and we've sorted out the couple little issues we were running into I worked out with the time beat guys and now this all makes a lot more
sense and it isn't crashing anymore I want to just give you guys a little bit of background here on the Raspberry Pi there's like an issue with the kernel code that they use to run the time beat software it doesn't like having the GPS serial connection which we call nmea as well as PPS at the same time and they did admit to me it is kind of their own fault because they wrote the code but they are working on a fix but for now we can't really do both at the same time at least not on the newer version
this is the older version you can see here I'm running this on the time card mini you can see we're reading the major time from the GPS chip and it's several hundred milliseconds out which makes sense and then if we look at our PPS it's pretty accurate but it's also a bit all over the place for the most part we're talking within 10 nond accuracy but then on other times it's 14 or 45 nond out which is still mindboggling accurate but they were telling me on a proper setup
without this bug they usually within 1 2 3 NS at all times which is so so stable generally they recommended to me to just disable this nmea data and use a public time server like time. windows.com time. cloudflare.com as your major time Source now you might have a problem if the internet goes out because you're losing your major time Source but the GPS chip does still have that information and the pulse per second should still stay relatively accurate but generally if you
have downtime of your main internet you probably have bigger problems let's sync my laptop to it hey it worked look at that look how accurate the time is if I sync to this local time server or like half a millisec out some of that is just going to be the clock on this Mac probably not being the greatest thing ever but uh we're also syncing over Wi-Fi but there you go we have a local time server getting its data from GPS and from public time servers our gawk One Mini our very own generally pretty
much within 10 NS which is kind ofing insane I like this thing it's not necessary for us at all don't get me wrong what for our cluster setup as long as they're all synced to like a local time server we have our router acting as that it's got a pretty accurate Nick and maybe it's not true to actual time but as long as they all think that they're on the same time it doesn't really matter but this is just cool and I like doing cool stuff like this and I like sharing it with you so get subscribed
hit like and tell me what you think about acurate time you probably don't need it either but it is fun and not that expensive if you buy the normal version of this and build it yourself bye
