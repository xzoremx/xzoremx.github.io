on our last episode of lus tech disasters one of the custom liquid cooled gaming machines in my home rack sprung a leak pouring gallons of water over every system beneath it and my initial thought was oh I forgot to screw in a fitting but as it turned out despite taking precautions to prevent it it wasn't a fitting not being screwed in it was a fitting completely corroding off of the block maybe some of the metals in our Looper incomp ible nope after spending hours inspecting them
every other system's fittings were spotless not a hint of corrosion to be seen I was so dumbfounded that I turned to the YouTube comments for help and it actually worked there was a strong consensus on what the problem was so today with the help of pulseway who sponsored this video we're going to hopefully Rectify this silent killer and add a remote monitoring system so that uh if there ever is another leak hey at least I'll know about it before I come home at the end of the day and find that  
itself the first really good Community theory was that the fancy fuel hose we were using as our tubing might use steel webbing to reinforce it which could introduce galvanic corrosion but this was actually due to a miscommunication on my part it's not fuel hose it's a general purpose hose and it uses a textile reinforcement rather than steel so we can scratch that one another interesting theory was that a micro crack in the delin plastic of the GPU block might have allowed the steel
screws that hold it down to come in contact with the water but a close visual inspection reveals no cracks and the threading for all of those screws is completely clean which suggests that no corrosion occurred there a third theory was that a flaw in the plating of the affected fittings could allow galvanic corrosion to occur with the underlying metal which would explain why some of them were eaten While others remained perfect but the thing is when you or EK in this case is designing anything that
involves metal and water galvanic corrosion is something that they carefully consider so while the most obvious way to avoid corrosion is to never mix Metals there are are many metals that are safe to mix especially when they're not directly connected and the underlying material of these fittings is brass which if you consult this anodic index should be fine with the copper and other metals in our Loop should be fine the story changes when you apply a voltage and well we
obviously weren't intentionally doing that when you have a large power draw in one spot like a couple thousand watts of computers in a rack and a low power draw in another spot like a couple hundred Watts from a pump you're going to end up with a difference in voltage between them which accelerates corrosion dramatically and can make compatible Metals far less compatible but the good news is for this solution oh boy oh wow we don't have to worry about the details this is an isolation Transformer and you
might be familiar with Transformers you would use one to take like a low voltage and make it a higher voltage or vice versa like to run your sewing machine from Asia yeah if you're in a different country that's a big one yeah in this case it's 120 volt on both sides you see that made in Canada thanks Hammond Manufacturing but it decouples the circuit giving us galvanic isolation or preventing a loop so in a nutshell we're taking anything that's plugged into this guy and we're giving
it absolutely no path back to the main panel it's almost like Wi-Fi for your electricity I feel like our analogies are making this worse the point is no voltage differ fren wrap it before you tap it where do we want to put this thing how about how about up here on top of the tank the tank full of water I mean it should be fine right yeah I mean realistically while we're here I should probably have the pumps running off the UPS you'd have to run an extension cord all the way over there conveniently is
that an extension cord that's all the way right there yeah I really don't think that's long enough I don't think it's worse than that yeah I don't think it's long enough look how long that is that's a 25-footer it'll work you want to bet everyone's lunch on it if I'm right you pay for everyone's lunch if I'm wrong wrong nothing happens fine it has to go all the way down to plug into the bottom UPS it has to be managed sure he's literally trying to Cable manage it as much as possible to prevent it from
reaching dude these are so satisfying I will admit they are quite good LTT store.com let's go that might be the best thing you've ever done my kid's right there what no he's not oh he's somewhere it's going to be so funny when you lose wow it reaches no way no way you're buying 's lunch Get Wrecked fine even though I owe him lunch technically yeah one of the big things that you guys said was hey no matter what caused this problem you should really have monitoring in place so that if it were
to ever happen again you would know and on top of that we can make automation so if there's a leak shut off the pumps yeah it's going to be good theoretically everything is fine now I mean but maybe but that doesn't mean we're going to jop here okay what's next grounding grounding all right you're not going out for a week says who you going to stop me I have your stepdad's number keyword being step are you going to take that he might actually see this to take things to another level we're going to follow
another recommendation that came up a lot in the comments some of you noticed that um I never grounded my rack while the systems themselves are theoretically grounded using the third prong of the plug that we plug into them the rack itself is not necessarily connected to ground so we got a whole bunch of these grounding leads and then what we just connect these from the back of every chassis to the rack uh you could but we  catch o uh like a grounding bus bar so you just stick that in the rack and then
screw all the little thingies onto it C man no no we got this we got this okay oh that just barely fits yeah so that could go right there it's almost like it's made for a rack naturally we have to ground our grounding bar to something for it to work as a grounding bar unfortunately the rack is a bit of a ways from the panel and our electrician who is going to do this properly for us is unavailable today so instead we're going to have to open up the panel and tie the wires directly into the
grounding bar it also means I didn't have the correct wire so Linus happened to have these like two pretty thick gauge wires so we're going to use those instead I also didn't have the correct connector so I cut these hammonded ones but connected them onto the long wire and now we have the right connector is this how you should do this probably not but it's just a ground it's probably fine right reys I don't know what I'm doing got it hey it worked there we go grounded I'm going to let lonus be the
one to open the panel and stick his fingers in there cuz it's his house uh so we're just going to leave this for now Hammond sent us these sick little grounding kits and they have little just blade connectors so you hook one side up to the server one side up to the grounding bar and then if you need to take the server out for some reason you can easily disconnect it let's try it with one of Linus's Nas units here just unscrew that look at that wow now we just repeat like 10 times
while Reese works on getting all the systems grounded let's talk sensors we have three different types starting with our leak sensor although calling it a sensor might be you know a bit generous this is B basically just like two wires you apply voltage to one side and as your leak Bridges the Gap with water it creates an electrical connection between the other side and on that side you're just sensing for any voltage so when there's no water it should be zero volish and when there is water say if we
did 5 volts on this side it'll probably show like one or two volts on this side so that works and then we've got a flow sensor this one is really just to tell us if say the water runs out or the pump stops working which would obviously be bad cuz then the water inside the computers would boil which might cause a leak this way we can not ify ourselves if the water is not flowing and then we've also got a little float switch very simple this one if it's at the bottom current passes if it's at the top
current doesn't pass so we stick it in the water tank here at the top and we  not I you not this is how we're going to test it later but before we can install it we have to drain the loop which is going to be interesting this valve is open and nothing is coming out I saw a comment somebody said they had experience with hose bibs like that and they said that some of the manufacturers started using really crappy cheap materials in them that are not necessarily compatible with plumbing and
I just looked up in there and you know what I saw corrosion I read the comment and I was like this is too stupid to be true lonus guess what doesn't happen when you open this hose bib no you're ballsy stick your phone light up there uhoh can you imagine if that's literally what caused all of this you've got to be kidding me you know whole room water cooling was exactly the same thing it was a vendor cheaping out on the parts that Reservoir was supposed to be stainless steel I mean you should have
ched a plastic one but it wasn't made of stainless steel I use a plastic one yeah you also were the one who speced this supposedly brass hose bib smart guy so I bought it from a plumbing store so it looks like we were both Bamboozled you don't get to be all yeah but at least my idea was like a good one it's also good that I got this particulate filter yeah I found one that's plastic actually it's uh polypropylene I think nice oh no it's polyester it's like a t-shirt basically
what are these made of H well those are metal but that's the same type that's already in the loop because I don't feel like going to the plumbing store and because I don't trust those things ever again I'm going to make my own valve I've got a little guy and a little valve look I fixed the  we have to make sure that we put it the right way there's these very helpful arrows that I should follow oh look I even Drew arrows on the tubes so I just matched the arrow with the arrow and then I can't screw it
up hey ree you leak tested this filter  uh filter installed is that closed beautiful water in the filter yay the sensors are great and all but they don't exactly work without something to read them in the past we bought little like relay or input output boards for zwave or Wi-Fi on Amazon but if you seen anything about how Linus's Wireless has been working I wanted something hardwired and then I stumbled upon a company called sequent Micro Systems which sounds super nerdy and to be honest it kind of is all
they sell are these custom home and Industrial Automation boards and this one which is a Raspberry Pi hat just plugs into a rasp pie this one has 16 Universal sensors on it that means we could handle all seven of the gaming computers in here for leak sensors we could put a couple on the floor our two flow sensors and still have room to spare it was a little complicated to get set up but they actually had really good customer service the guy was emailing me back within the hour responding and they
have a bunch of different boards you get ones that have some sensors some power outputs you can get ones that have mosfets you can get ones that have just cereal like they make a lot of different different products and it's actually pretty awesome this one in particular requires separate power so you plug in a 5vt power lead here and then it Powers the Raspberry Pi through it directly there's also a battery for a real-time clock that's on the board that they use for Hardware monitoring so if the
Raspberry Pi becomes unresponsive this board can reboot the Raspberry Pi it's one of those things where you wouldn't really think about it for a house setup but if you were stuffing this in a wall somewhere for industrial controls you want to make sure this thing is operational if there's an issue it fixes itself imagine if you had like 200 of them right in a perfect world I'd just hook that sensor pin right up to this board and be done with it but unfortunately Electronics can sometimes
be a bit more complicated in our case we need to add something called a pull-up resistor and that just makes sure that when there's no pulse being sent the sensor reads a high signal like close to our voltage around 5 volts if we didn't have that the sensor wire can actually sometimes float between ground and 5 volts which looks a lot like a pulse which obviously we don't want the pull-up resistor makes sure it's only ever reading the correct value so it's very important to add if you had an
Arduino that was reading the sensor instead they actually have a pullup pin mode which does it on the board but in our case we're just going to add one on this breadboard and in the future we'll just solder it into a piece of wire and  it does the flow sensor work uh yeah we literally just finished wiring it let me start screen recording here is it in like a home this done or like what is it do to control this no it can be if you want right now I just wrote a little script um obviously we have to interpret
the data cuz all we're getting is pulses uh luckily they just give you a formula you take the pulses per second or Hertz and divide by 5.5 that's your liters per minute so I made a little script to do that cool hey 9 L per minute so we're getting roughly almost exactly 50 pulses per second 50 HZ that's the heartbeat of the whole setup and then if we go to the other sensor which I did flow to it's off right now right no flow oh no flow to the pool right now so what we'll do is adjust this script to send
that data to the pulseway API and then we can make whatever workflows we want in pulseway and then on top of that we can just make a little script that sends it to home assistant if you want super home assistant also allows like custom components so you could have it on your phone now that the pool Loop is refilled and running we should be able to take a look at our flow from both of the pumps I found this little terminal app called TTY plot and you can Plum data from a
script to it and it makes a little graph in your terminal it's very cute this top one is the local Loop so if I adjust the speed on the pump here right now it's on low if we go to High hey look at that this is the Outdoor Loop only pushing around 5 L per minute which is pretty low and then the indoor Loop seems to hang out around 10 5 L per minute yeah that's pretty bad oh hey look everything grounded yeah look at that it's all grounded you won't be out for weeks we were we were
overthinking it each of them we just found a screw and put it underneath the screw oh that's great uh the only thing is we didn't ground it into the panel yet so it's not technically grounded anything right I did run the wire over there oh okay mostly is this you yeah I grounded it huh okay we should probably shut the panel off before we open it yeah where's the where's the one for this oh this one oh my gosh okay this is not an insulated screwdriver and is not rated for electrical work the only
reason I'm doing this is because this panel is completely off deenergized I do not recommend this don't try it at home Etc oh my goodness who put this in here this screw is uh it's like it's shallow it's just camming out every time can I try to do it hold on hold on we might not even need it my God oh my God zero zero okay so everything in here is safe I mean well we hope the rack is hooked up now see you got a little ground cable going in there definitely not spliced inside the 
one now that the flow sensors are working let's wire up a leak sensor like I mentioned before we have to apply power to one side so we'll plug this into 5vt here and then the other side instead of getting a pull up resistor gets a pull down resistor it functions in a very similar way but instead of pulling the voltage up to your kind of voltage Supply level it's pulling it down to zero because the path goes to ground the last thing we've got to do is adjust the sensor on the board to be a 0
to10 volt sensor boom we can see that it's reading about 0.17 volts when in theory nothing is connected okay if I bridge this now with a screwdriver which is metal it goes from like 0.1 volts right up to 5 which makes sense when I let go there's no path and it reads 0.14 now we just need to try with some water hey it immediately registered .5 volts now instead of printing this to the terminal let's send this data to pulseway fortunately for us pulseway has a cool feature called custom fields and
it allows you to attach custom bits of data to systems an entire site you can do it globally if you want typically you would use this with their script system say if you wanted to store the bit locker keys for all the systems on your network or the windows licenses or check battery data things that you would only need to read like once a day or something like that but in our case we want to read these sensors like every 5 Seconds fortunately they also have an API so we can just edit our little
script instead of printing it to the console send it to the pulseway API and then that'll set the data while I don't technically need the pulseway agent running on our sensor Raspberry Pi I'm going to install it anyways cuz then we can have monitoring uh obviously if the sensor Raspberry Pi dies that would be not great and we'd want to know about that once it is installed it's really easy to connect to the account they actually have a command called like pulseway registration just go register
no proxy C custom server yes and just pops out this big QR code and Bam it updates the config file and starts running pulseway we should be able to see it in the pulseway window now hey look at that Dreamhouse sensor Pi 4 now let's send some data I went ahead and created a couple custom fields in pulse white one for the flow rate of the loop inside the house and one for the flow rate of the loop that goes to the pool and then when we run this output updated count 9.45 and then if we go to the site if we
go to Sebastian Dreamhouse custom fields we can see that it's 9.45 let's see if it stays that way if I go ahead and turn the pump down boom 8.72 perfect now we just have to install pulseway on some machines so we can make them turn off when bad things happen we're first going to make a workflow in pulseway I made one here called shut off water cooled computers ideally you would make a system group and then put all the systems in it but for now we're just going to use this one which is land five
and just set that manually I'm creating this is an ad hoc workflow which means you have to manually trigger it but you can also set them up to run on a schedule say like every day at 2: a.m. or you can set it to run based off of a notification like CPU usage too high or disc full then we just say shut down and there isn't an option to just shut off computer because this is like an IT management solution right generally you don't want to like fully shut off a computer because now you can't manage it
anymore they do have an option for reboot but we're going to say execute a power shell command of shutdown I'm also going to add a send EMA email task if the condition check fails because it would be a little weird for this workflow to get triggered and then the custom field read a value that's fine like you there's something wrong at that point so we should we should get notified if that's the case if the flow goes below one liter per minute it should shut off land five it should have
it should have done it did it do it uh I wouldn't say that it's definitely run the you're about to be signed out windows will shut down in less than a minute what no way wait it's going to shut down in a minute it says it says less than a minute she's shutting down boys maybe I need to adjust that script a little bit to make it a little more urgent in terms of the shutting down but not bad yeah and when we combine that with the leak sensors basically we can set it so that in the event that something goes
bad everything shuts off the last part of our little Electronics project here is being able to turn the pumps on and off so if we detect it leak from one of the leak sensors we can shut off the pump and limit the amount of water that gets out and the amount of damage how do you do that with relays each of these is a 40 amp 250 volt relay which is way overkill for what we need I can just plug a Serial cable into this which is in this case an ethernet cable and plug the other side into our sensor board and
then control this remotely from the raspy and the sensor board that means we can put this right next to the pumps run an etherite cable back over here and Bob sh Uncle we can control the pumps remotely long term I think we could mount it in the big isolation Transformer box that actually has a switch already so we could probably just wire this up to the switch but for now we're just going to do this to try it this is um not my finest work but I've spliced the relay in between the load
wire on this power bar and these are all connected with won nuts so they should be relatively safe and if we plug this in this power bar should not be powered  power bar not powered that's good now let's plug in the relay board it does need its own source of power specifically 12vt instead of 5vt this time so we'll wire that up here there's also a few dip switches you want to toggle on this board we enabled TX and RX and then the termination switch and then we just did the termination switch
on this side that's because each of these is the end device if you had a bunch in between Daisy chains you would just turn the termination one on on each one on the end if the board was mounted directly on the Raspberry Pi we could use their command line Library directly but instead since it's going over cial I had to turn off the cereal functionality on there so it's just passing through and then enable cereal on the Raspberry Pi and in theory hey cool you see them clicking 
in you ready yeah on see that's l up and then we go off now I've just got to make a little script to toggle it based on the leak sensor and hope it works so we've done the demo where if the pump fails the systems turn off but what we haven't demoed is if a leak sensor gets triggered the pump turns off well let's do it okay I'll go lick a leak sensor 5 Volt's not going to hurt I've licked a battery before but how many amps is it 5 amps it's fine 5 amps yeah I wouldn't lick that I'm going to lick
it I wouldn't lick that I'm going to do it well make sure you get it on camera yeah yeah fine fine I won't lick it I'll just dip it in the water on the floor go for it and dip oh my God all right we've got a light on that same power bar oh well did the flow stop I mean yeah okay now let me unlick okay obviously we have to fix up the wiring here a little bit is it going and she's gone hey so theoretically well there's a lot more protections than there were before most of them are just sitting on the concrete
floor so if it leaks I'm sure they'll work great I have a box we'll put it all in a we'll make it nice you know it also work great pway who sponsored today's video you should try a free trial of pway today and as a member of our audience you can save 40% on all of pulse's plans just go to lmg Dogg lt24 or click the link down in the description thank you so much for sponsoring this video pulseway is your solution for Remote Management of all manner of systems not just janky basement water water cooled
ones yeah we built our own monitoring system and then used pulseway to do all the system stuff and they have a fully featured mobile app so you can diagnose and even fix problems on the go yeah like if your pump stops working yeah you'll know even when you're in France Windows updates uh temperature monitoring you won't be able to do anything about it disc usage monitoring but you'll know no you can call your team get them to do well you think I'm going to come to your house and fix your
water tooling while you're in France it's the pulseway pitch oh that would be helpful
