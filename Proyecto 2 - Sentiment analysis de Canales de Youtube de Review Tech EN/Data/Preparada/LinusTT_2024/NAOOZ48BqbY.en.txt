wait what okay that was a reenactment but a few weeks ago my computer did die just like that right in the middle of a gaming session turns out my boot SSD catastrophically failed giving me an excuse to rebuild my gaming rig and my kids machines and every other system in my house with no SSD no hard drive no storage at all yet look at this I'm gaming I've got Windows I've even got a ton of games installed how is this possible I mean I know you can download Ram but downloading storage well kind of
the storage still needs to be somewhere and luckily for you kokia who sponsored this video provided some of their cd8 Enterprise ssds but what he's saying is true none of them are in the gaming PCs instead it's all in here that is freaking amazing did you just pull one out so we got redundancy and everything yeah I mean it's cool but there are some disadvantages like uh you kind of made every computer in your house a bit we'll  thing I am really excited about this because in spite of the fact that
Network booting has existed for longer than Jake here it's not something we've ever really played around with much and certainly never for a home gaming setup so how does it wake well the current way to network boot from something like a nass network attached storage is ice scuzzy there is also like newer stuff like nbme over fabric but as far as I know it doesn't really exist at least in Windows land yet and certainly it's not within the scope of this project but as silly
as it sounds to boot from a NZ is it I mean you can Video Edit on files from your Nas we do that all the time you can game using files on a Nas we do that all the time so why not Windows from your NZ it comes with some key advantages for one thing it centralizes your storage which means redundancy can be more economical to safeguard against the drive failure instead of having to put at least two drives in every one of your systems you can just put I don't know six drives in here plus one extra for
redundancy and it can make for easy management of backups and lightning fast system restores which I'm sure is great for kids PCS cuz I bet they mess stuff up all the time mine are actually pretty good so far but I'm sure that's coming my dad would be happy just cuz he could get rid of MSN Messenger faster I wasn't allowed I did it anyways what I am allowed to use is D duplication or compression with ZFS as the back end that's super cool cuz it gives us even more efficiency out of the storage that
we have but it's it's not all sunshine and rainbows like what about the lack of system okay we're going to talk about that later first let's build a NZ okay why don't you tell us about this weird platform you decided to use for this project I hate this computer this is the worst server I have ever played with at least in like the Last 5 Years In fairness to Intel it's a reference platform software development platform it is never meant to go to an end user but it has been a little Annoying to get
working the good news is it's a super cool system it's dual 144 core processors which is hilarious Overkill uh it's not even great for this setup actually cuz icezy not super multi-threaded um but he's been looking for an excuse to Tool around with it and now we have it but aside from the CPUs we've loaded this thing up with an Nvidia melano connect X6 dual Port 100 GB per second Nick we don't actually need the fastest network cards in the client PCS but what we have to consider
is that because this one machine is going to serve all of them it needs to be as fast as all of their network cards combined that is assuming that they're all trying to hit it at the same time I mean you wouldn't want your computers to be slow right no no I really wouldn't and with the speed of these cd8 Gen 4 drives that kokia provided for this little thought experiment we can use as fast fast a Nick as we can possibly get our hands on and never have to worry about our drives being the bottleneck
now what are we using for networking because I don't have a 100 Gig switch Yeah and ubiquity doesn't make one yet so instead hey our buddies from microt this is the CRS 5181 16xs 2xq not only does it have two 100 Gig ports that's the the 2xq but it has 16 25 gig ports which is perfect we plug our server in here and then we can plug in all the other things Downstream to the 25 gig ports uh at least we could if we had 25 gig networking in any of our systems well we're going to the funny thing is
as silly as it feels to use these cd8 drives for gaming this kind of an application is not that far off of what drives like this are designed for they've got die failure recovery as well as power loss protection and parody protection to make them extraordinarily reliable they're available in capacities much higher than the 3.84 tabt we're deploying here so if you've got simulation work or you're storing gigantic high performance databases something like this would be perfect and
we're going to put games on it and windows so we've allocated about 10 tab of storage for a shared game drive and about one tab for the boot drives for each of our systems we've got Network we got storage that's all we really need you're going to take us fine I got I got the whole thing don't drop it all right oh my God what the oh there wasn't a drive in that TR we're good what the hell while Jake gets things hooked up let's talk about the long-term plan because obviously I'm not
going to be keeping a 288 core Intel reference server in my house to boot my computers what I actually want to do is take my two loud nazes and consolidate them into one quiet one so take that 45 drives chassis rip out the hard drive mounts put in nvme mounts and then run them all off of that Nas software that I invested in whether or not we boot the computers from them that kind of depends on how this proof of concept goes why are you taking the drives out we just put them in I told you this server is so
great right it doesn't boot with ssds in it what so you have to like let it boot and then you hot plug the ssds back tried so many things the Intel rep was like it's my last day I'm not even kidding that is legitimately what happened good luck at wherever you go but he's like I took the voluntary  leaving all right let's go look at the software stack now my assumption was we were just going to use trass for this because we love tress yeah tress is great but we didn't yeah I used it for
ice Coy like a couple months ago and it was pretty slow there's also this thing called starwind vsan which there's a free version that they let you use Forever on even multiple machines you can have high availability for free and it's like purpose built for ice cuzy so it's a lot easier to just set up and use for this exact workload so why not right there is a bare metal install but I didn't notice until I had already set up the like proxmox image version so that's what we're using instead it should still
be performant I just took our Network C and our six ssds and just pcie pass through them right so if there's any performance hit for virtualization it should be pretty negligible this system has 512 gigs right but you have to like load it so I just picked 200 56 cuz that's faster and I selected 64 cores I mean this type of server is really meant for like a web host or like virtualization web hosts yeah like something that just parallelizes like crazy yeah oh we can see we have our
kokia ssds look at that all six of them wow and then I went ahead and created a ZFS pool it does give you the option to like just make a raid pool um it seems to be slower for some reason the ZFS is cool because it has Ram caching um and that'll it'll just put your files in memory and memory is of course super fast so with raid Z1 that means that one of our drives is not contributing to our overall storage but it also means that we can lose any one of our drives just like I did when I was in the middle of
my game and none of our systems should go down we're going to show The Real World results of that live test where Jake ripped a drive out in the intro a little bit later after that you make a volume which is kind of just like a folder so we've got one for our game drive here this really reminds me of the trass interface a lot it's like the trass interface but like less crappy you notice how like responsive it is yeah and then for ice cuzy we have to make a Lun which is kind of like a virtual disc
now some of it is just needlessly complicated now starwind does a good job of making it less complicated let's create one ice guy Standalone because we're not high availability it's just one system we'll make it in our Linus smells thing we'll call it Linus re smells and 100 gigs and done that's all you have to do right so now I have a 100 Gig drive and it lives on my network but how do you use it that's the annoying part this is the the overly complicated BS I'm talking I'm sure there's a reason
for it but this is like the address of the storage got it uh I don't know why the date needs to be in there it's not supposed to be the current date or the date of creation it's like the date you registered your domain as far as I can tell entirely arbitrary you can set it to whatever you want one way or another like any other network resource it needs an address but what is the difference between an ice scuzzy storage drive and an SMB shared folder well one is block storage and one is file storage and if
you don't care what that means it's basically imagine ice cuzy like an SSD it's it's the whole drive it's meant to plug right into a computer not be shared and you can imagine SMB as like here's a folder you know multiple people can use one folder and they won't conflict with each other if they both try to read a file or write to a folder yeah because it's designed to handle that luckily starwin can handle both you see SMB share that'll be for our games since most games you install them to an SMB
share you can play them on multiple computers and it just works and then they're going to use their local my documents or games folder for any save data or whatever else hopefully some games not so good yeah so this is going to be a little Hit or Miss but we can at least try it yeah and worst case you can install a game locally question for you for this test did you swap out my network card for the fastest one that we've got no I mean the one you have right now an X540 T2 dual 10 gig one
should in theory work just fine for this yeah I mean if you think about it 10 gig that's way faster than sata 3 yeah yeah but we could go faster let's go faster F I mean how fast do you want your computer to be I don't know I just want to see what this is capable of I think we should do the 100 Gig Nick there is a pcie slot limitation your system only has a buy4 connection that's the thing about high-end desktop platforms being effectively dead these days is if you want to get into kind of
weird home lab stuff like this on a consumer board you're not going to have enough pcie Lanes but this one's cool it still has a second gen 4x4 link to the CPU not through the chipset um but this is a gen 3 card so you're going to get uh 4 GB a second Max Boom Card  go yeah dude this is a buy one slot though no it's by four no it's byy one oh well where's the what board is this well I got my Thunderbolt card in the by4 why because that it needs it don't you have a iicon thing anyways yeah but
I also have a thunderbolt do uh that like 1 GB a second is all you're going to get out of that oh 10 gig then at that point I might as well just leave the 10 gig card in there well we could use this one this is a connectx 6 card it's only 25 gig ports but it's Gen 4 okay so we'll get 2 GB a second all right how big do you want your drive to be terab oh okay I was expecting more but sure fine no that's fine so the first thing we have to do of course is make the drive boom done okay and now we're done you're
officially ice goed okay we should probably configure the BIOS then yep since our computer doesn't have a disc to boot from we have to tell it where to boot from right and this is potentially more complicated and annoying than one might think um the easy way is to set up what we're going to set up on a USB stick and just plug it into the computer and boot off the USB stick but then we'd be adding storage and we said we're getting rid of that right I guess so instead we're going to use our router
now you might be familiar with a DHCP server it gives devices on your network and IP address yeah it can also give them other things specifically where to look for storage interesting okay now the router you have a ubiquity dream machine doesn't have the most advanced DHCP configuration so you can only really tell it one location to look which obviously doesn't work great if we have 10 computers trying to boot off of it right cuz then they'd all be getting the same drive right so we made it a little
bit more complicated and I'm running a web server that it talks to and tells it its Mac address mhm and then based on the Mac address it responds with the disc that it's supposed to use it sounds complicated but honestly it's like 30 lines in a script here you can look at this like this is the name of the device and this is the disc it's abouted to go to and this is the MAC address all right I'm going to link all of the like scrip things we used in the description if for
whatever reason you want to try to do this what we're going to be using to install Windows is Windows PE or the windows pre-installation environment it's like mini windows that most of the time is used for Network installing Windows is what we're doing um you have to take the image that you make and modify it slightly namely just to add the network drivers in our case that would be melanox drivers and I've already done that okay but it also means I need to modify this boot script
because which Mac address do you want oh boy oh wait yeah yeah right right right right uh it should be 98 checking media presence media present okay we're good all right oh it worked wow that's that's great we are glossing over a lot of this but you'll see the scripts down below this would be the one that you would use to boot wi PE we're glossing over so much this is like the glossiest video Lip Gloss it's so shiny editor can you make this shot just like really shiny e is that like a
filter why does it look like wet set boot URL that's like the file storage location uh initiator iqn is like the name of your machine and then sand hook that attaches the disc y you can see his name lonus this is the bits it needs to download for Windows p and then Boot and then when you go to actually boot you just change the sand hook to sand Boot and then just comment all this out and in theory it should just boot okay yeah wow look at that we're in so we're going to mount a network drive that has our
Windows installer on it I don't know if it's strictly necessary but I like injected the proper drivers into the windows installer okay you can do that while you're like selecting your disc it'll say install drivers yeah um it'll just prompt you I just did it because I didn't want to have to screw with that it's every time every time my god oh boy oh no it's going to do that thing why  one I think you need to unplug the ssds this is the step that usually fails please God please please God can't help
you where we're going this is the step that installs drivers I think it's good when I was researching this everyone talked about how this is just like an absolute nightmare to do and like disable Windows update and all this stuff it seems to just work as long as you have a Nick that supports it we ran into one very modern Nick that just didn't support it those 10 gig aquanta ones that are in the land PC that's why when we were talking about this at the beginning of the video we were saying 2 and 1/2 gig
because we were using the board real Tech yeah I tried for days to get it to work but their driver just refuses to launch at boot time we're going to boot into in P one more time because we have to make a registry edit I'm not 100% sure if it's 100% necessary but there's a ton of people that mention it causes blue screens if you don't okay we're just going to disable the page file to be clear disabling your page file could cause more stability problems than it solves so it's not something that we
would recommend under normal circumstances this is just experimental for now is is that just working is this it I think it's just working this shouldn't be that cool to me but I'm not going to lie it kind of is I'm just using a computer like I would normally use a computer I'm going to install a program like I would normally install a program there are definitely some red flags you can see the active time of my boot drive here is 100% And my average response time while it's usually pretty reasonable in the
sub 20 milliseconds range occasionally it'll pop up to half a second that's a yikes you don't want to see that like this is not a CPU issue how long it's taking to extract this steam package I have a 7950 X oh wow do you see that average response time as it's testing random RS is getting into the multiple seconds that's bad also even these sequential results are a fraction of what I was expecting to be getting even with the PC slot limitations oh wow even before the game
starts downloading okay there it finally goes just the reservation process was taking up 100% of the active time of the drive still is actually network is doing nothing and to be clear this is not the fault of those kokia drives they're just like yeah we'll send over storage if you guys are doing a wild project those are really fast drives so this comes down to the limitations of our Network infrastructure and our implementation how's it going oh you've got four of them working yeah that's sick how's the
that oh it's terrible really yeah why just everything is terrible like slow what oh yeah huh even just uh launching steam huh took a while Jake I'm logging into steam on this system and I just got a system leg Spike that was so intense I couldn't  not good there's something very wrong with the permissions on the SMB share and it just like yeah it oh okay it's not very happy it was an interesting experiment I want to know now if you can make it go fast me too but I think that's an experiment for
another day I want to go unplug one SSD I'm going to do it right now note that we've got four systems running right now one of which is actively verifying the Integrity of oh you did it already Okay well that's one thing it does well was I supposed to wait but I think it might finally be time to talk about the disadvantages which one you made uh every computer in your house way slower you added a single point of failure so if that server has a problem which it probably will none of your computers
work uh and how you going to fix that server you don't have a computer to to manage it with to try to fix it it's great and you've added a whole bunch of cost that realistically you could put two consumer grade drives in every one of your machines and run raid one and complexity and management headaches but I'm just stoked that this worked I think it's cool and the fact that it would work with just about any computer even if we wouldn't recommend doing this at home like man okay the fact that the real
Technics work at all if we could tune it something like a Land Cafe oh I could totally see this like that from a manageability standpoint where you actually have an IT admin who's working on it instead of just a home user usually when you have a big install base of hundreds of computers you might use folder redirection you have a local disc and then you just like redirect the user folders to a network share or something like that that way you're optimizing your storage use through things like d
duplication and compression you're also making it way easier for it to manage how much space everybody's using and make sure that if something gets accidentally deleted or intentionally deleted it can be restored um but this is dumb I wouldn't recommend booting Windows over ice cuy it does seemingly work but but I would recommend checking out Kia's cd8s their pcie Gen 4 drives with nvme 1.4 support they use their 112 layer 3D TLC flash they're very fast they're very great and they
have a whole lineup of other drives if they don't specifically meet your need and you can check them all out at the link down below thank you kokia for making it possible for us to deploy Jake on Fool's errands like this for extended periods of time cuz it's it's pretty cool and look now we can take those drives and build them into a new Nas yeah and do something useful with them me in hard drives that'd be pretty cool if you guys enjoyed this video maybe go check out the one where Jake I built an
assas at for your house which is no longer here
